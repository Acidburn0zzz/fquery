#!/usr/bin/env node
/*jshint node: true */
'use strict';

var _ = require('underscore'),

	wepp = require('../tools/wepp/wepp'),

	pkg = require('../package.json'),
	cli = require('commander')
			.version(pkg.version)
			.option('--inFile [file]', 'source file', null)
			.option('--outFile [file]', 'target file', null)
			.option('--inDir [dir]', 'source directory', null)
			.option('--outDir [dir]', 'target directory', null)
			.option('--charset [string]', '[NOT USED] source and target file encoding', 'utf-8')
			.option('--no-compression', 'turns off file compression')
			.option('--strip-header', 'strips even header comments in case of compression')
			.option('--size', 'prints file size and zipped file size of processed files')
			.option('--overwrite', 'overwrites already existing targets files')
			.parse(process.argv),

	options = _.pick(cli, 'inFile', 'outFile', 'inDir', 'outDir', 'charset', 'compression', 'stripHeader', 'size', 'overwrite');

console.log(options);
wepp.process(options);
